#include <iostream>
#include <vector>

signed main(){
	ios_base::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);
    int n;
    cin >> n;
    vector<int> a(n);
    for (int i = 0; i < n; i++){
        cin >> a[i];
    }

    Segtree* root = build(a , 0 , n);
    string s;
    while (cin >> s){
        if (s == "min"){
            int a , b;
            cin >> a >> b;
            cout << get_result(root , a - 1 , b , 0 , n) << "\n";
        }
        if (s == "set"){
            int l , r , new_val;
            cin >> l >> r >> new_val;
            delta(root ,--l , r , new_val , 0 , n , true);
        }
        if (s == "add"){
            int l , r , new_val;
            cin >> l >> r >> new_val;
            delta(root , --l , r , new_val , 0 , n , false);
        }
    }
}
